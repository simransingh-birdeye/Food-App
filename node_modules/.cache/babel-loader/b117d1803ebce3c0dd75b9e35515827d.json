{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst defaultCartState = {\n  items: [],\n  totalAmount: 0\n};\nconst cartSlice = createSlice({\n  name: 'Cart',\n  defaultCartState,\n  reducers: {\n    add(state, action) {\n      const existingCartItemIndex = state.items.findIndex(item => item.id === action.item.id);\n      const existingCartItem = state.items[existingCartItemIndex];\n      let updatedItems;\n\n      if (existingCartItem) {\n        let updatedItem = { ...existingCartItem,\n          amount: existingCartItem.amount + action.item.amount\n        };\n        updatedItems = [...state.items];\n        updatedItems[existingCartItemIndex] = updatedItem;\n      } else {\n        updatedItems = state.items.concat(action.item);\n      }\n\n      const updatedTotalAmount = state.totalAmount + action.item.price * action.item.amount;\n    },\n\n    remove(state, action) {\n      const existingCartItemIndex = state.items.findIndex(item => item.id === action.id);\n      const existingItem = state.items[existingCartItemIndex];\n      const updatedTotalAmount = state.totalAmount - existingItem.price;\n      let updatedItems;\n\n      if (existingItem.amount === 1) {\n        updatedItems = state.items.filter(item => item.id !== action.id);\n      } else {\n        const updatedItem = { ...existingItem,\n          amount: existingItem.amount - 1\n        };\n        updatedItems = [...state.items];\n        updatedItems[existingCartItemIndex] = updatedItem;\n      }\n    }\n\n  }\n});\nexport default cartSlice.reducer;","map":{"version":3,"names":["createSlice","defaultCartState","items","totalAmount","cartSlice","name","reducers","add","state","action","existingCartItemIndex","findIndex","item","id","existingCartItem","updatedItems","updatedItem","amount","concat","updatedTotalAmount","price","remove","existingItem","filter","reducer"],"sources":["/Users/simransingh/Downloads/React Practice/food app/src/store/Reducer.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\nconst defaultCartState = {\n    items: [],\n    totalAmount: 0\n}\n\nconst cartSlice = createSlice({\n    name: 'Cart',\n    defaultCartState,\n    reducers: {\n        add(state, action) {\n            const existingCartItemIndex = state.items.findIndex((item) => item.id === action.item.id);\n            const existingCartItem = state.items[existingCartItemIndex];\n            let updatedItems;\n            if (existingCartItem) {\n                let updatedItem = {\n                    ...existingCartItem, amount: existingCartItem.amount + action.item.amount\n                }\n                updatedItems = [...state.items];\n                updatedItems[existingCartItemIndex] = updatedItem;\n            } else {\n                updatedItems = state.items.concat(action.item);\n            }\n            const updatedTotalAmount = state.totalAmount + action.item.price * action.item.amount;\n        },\n        remove(state, action) {\n            const existingCartItemIndex = state.items.findIndex(item => item.id === action.id)\n            const existingItem = state.items[existingCartItemIndex];\n            const updatedTotalAmount = state.totalAmount - existingItem.price;\n            let updatedItems;\n            if (existingItem.amount === 1) {\n                updatedItems = state.items.filter(item => item.id !== action.id);\n            } else {\n                const updatedItem = { ...existingItem, amount: existingItem.amount - 1 };\n                updatedItems = [...state.items];\n                updatedItems[existingCartItemIndex] = updatedItem;\n            }\n        }\n    }\n});\n\nexport default cartSlice.reducer;"],"mappings":"AAAA,SAASA,WAAT,QAA4B,kBAA5B;AAEA,MAAMC,gBAAgB,GAAG;EACrBC,KAAK,EAAE,EADc;EAErBC,WAAW,EAAE;AAFQ,CAAzB;AAKA,MAAMC,SAAS,GAAGJ,WAAW,CAAC;EAC1BK,IAAI,EAAE,MADoB;EAE1BJ,gBAF0B;EAG1BK,QAAQ,EAAE;IACNC,GAAG,CAACC,KAAD,EAAQC,MAAR,EAAgB;MACf,MAAMC,qBAAqB,GAAGF,KAAK,CAACN,KAAN,CAAYS,SAAZ,CAAuBC,IAAD,IAAUA,IAAI,CAACC,EAAL,KAAYJ,MAAM,CAACG,IAAP,CAAYC,EAAxD,CAA9B;MACA,MAAMC,gBAAgB,GAAGN,KAAK,CAACN,KAAN,CAAYQ,qBAAZ,CAAzB;MACA,IAAIK,YAAJ;;MACA,IAAID,gBAAJ,EAAsB;QAClB,IAAIE,WAAW,GAAG,EACd,GAAGF,gBADW;UACOG,MAAM,EAAEH,gBAAgB,CAACG,MAAjB,GAA0BR,MAAM,CAACG,IAAP,CAAYK;QADrD,CAAlB;QAGAF,YAAY,GAAG,CAAC,GAAGP,KAAK,CAACN,KAAV,CAAf;QACAa,YAAY,CAACL,qBAAD,CAAZ,GAAsCM,WAAtC;MACH,CAND,MAMO;QACHD,YAAY,GAAGP,KAAK,CAACN,KAAN,CAAYgB,MAAZ,CAAmBT,MAAM,CAACG,IAA1B,CAAf;MACH;;MACD,MAAMO,kBAAkB,GAAGX,KAAK,CAACL,WAAN,GAAoBM,MAAM,CAACG,IAAP,CAAYQ,KAAZ,GAAoBX,MAAM,CAACG,IAAP,CAAYK,MAA/E;IACH,CAfK;;IAgBNI,MAAM,CAACb,KAAD,EAAQC,MAAR,EAAgB;MAClB,MAAMC,qBAAqB,GAAGF,KAAK,CAACN,KAAN,CAAYS,SAAZ,CAAsBC,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYJ,MAAM,CAACI,EAAjD,CAA9B;MACA,MAAMS,YAAY,GAAGd,KAAK,CAACN,KAAN,CAAYQ,qBAAZ,CAArB;MACA,MAAMS,kBAAkB,GAAGX,KAAK,CAACL,WAAN,GAAoBmB,YAAY,CAACF,KAA5D;MACA,IAAIL,YAAJ;;MACA,IAAIO,YAAY,CAACL,MAAb,KAAwB,CAA5B,EAA+B;QAC3BF,YAAY,GAAGP,KAAK,CAACN,KAAN,CAAYqB,MAAZ,CAAmBX,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYJ,MAAM,CAACI,EAA9C,CAAf;MACH,CAFD,MAEO;QACH,MAAMG,WAAW,GAAG,EAAE,GAAGM,YAAL;UAAmBL,MAAM,EAAEK,YAAY,CAACL,MAAb,GAAsB;QAAjD,CAApB;QACAF,YAAY,GAAG,CAAC,GAAGP,KAAK,CAACN,KAAV,CAAf;QACAa,YAAY,CAACL,qBAAD,CAAZ,GAAsCM,WAAtC;MACH;IACJ;;EA5BK;AAHgB,CAAD,CAA7B;AAmCA,eAAeZ,SAAS,CAACoB,OAAzB"},"metadata":{},"sourceType":"module"}