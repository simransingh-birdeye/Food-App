{"ast":null,"code":"import _toConsumableArray from\"/Users/simransingh/Downloads/React Practice/food app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/simransingh/Downloads/React Practice/food app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createSlice}from\"@reduxjs/toolkit\";var cartSlice=createSlice({name:'Cart',initialState:{foodItems:[],items:[],totalAmount:0},reducers:{get:function get(state,action){state.foodItems=action.payload;},add:function add(state,action){var existingCartItemIndex=state.items.findIndex(function(item){return item.id===action.payload.id;});var existingCartItem=state.items[existingCartItemIndex];var updatedItems;if(existingCartItem){var updatedItem=_objectSpread(_objectSpread({},existingCartItem),{},{amount:existingCartItem.amount+action.payload.amount});updatedItems=_toConsumableArray(state.items);updatedItems[existingCartItemIndex]=updatedItem;}else{updatedItems=state.items.concat(action.payload);}var updatedTotalAmount=state.totalAmount+action.payload.price*action.payload.amount;state.totalAmount=updatedTotalAmount;state.items=updatedItems;},remove:function remove(state,action){var items=action.payload.cartItems;//\nvar existingCartItemIndex=items.findIndex(function(item){return item.id===action.payload.id;});var existingItem=items[existingCartItemIndex];var updatedTotalAmount=state.totalAmount-existingItem.price;var updatedItems;if(existingItem.amount===1){updatedItems=items.filter(function(item){return item.id!==action.payload.id;});}else{var updatedItem=_objectSpread(_objectSpread({},existingItem),{},{amount:existingItem.amount-1});updatedItems=_toConsumableArray(items);updatedItems[existingCartItemIndex]=updatedItem;}state.totalAmount=updatedTotalAmount;state.items=updatedItems;}}});var _cartSlice$actions=cartSlice.actions,get=_cartSlice$actions.get,add=_cartSlice$actions.add,remove=_cartSlice$actions.remove;export{get,add,remove};export default cartSlice.reducer;","map":{"version":3,"names":["createSlice","cartSlice","name","initialState","foodItems","items","totalAmount","reducers","get","state","action","payload","add","existingCartItemIndex","findIndex","item","id","existingCartItem","updatedItems","updatedItem","amount","concat","updatedTotalAmount","price","remove","cartItems","existingItem","filter","actions","reducer"],"sources":["/Users/simransingh/Downloads/React Practice/food app/src/store/Reducer.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\nconst cartSlice = createSlice({\n    name: 'Cart',\n    initialState :{\n        foodItems:[],\n        items: [],\n        totalAmount: 0\n    },\n    reducers: {\n        get(state,action){\n            state.foodItems = action.payload;\n        },\n        add(state, action) {\n            const existingCartItemIndex = state.items.findIndex((item) => item.id === action.payload.id);\n            const existingCartItem = state.items[existingCartItemIndex];\n            let updatedItems;\n            if (existingCartItem) {\n                let updatedItem = {\n                    ...existingCartItem, amount: existingCartItem.amount + action.payload.amount\n                }\n                updatedItems = [...state.items];\n                updatedItems[existingCartItemIndex] = updatedItem;\n            } else {\n                updatedItems = state.items.concat(action.payload);\n            }\n            const updatedTotalAmount = state.totalAmount + action.payload.price * action.payload.amount;\n            state.totalAmount = updatedTotalAmount;\n            state.items = updatedItems;\n        },\n        remove(state, action) {\n            const items = action.payload.cartItems//\n            const existingCartItemIndex = items.findIndex(item => item.id === action.payload.id)\n            const existingItem = items[existingCartItemIndex];\n            const updatedTotalAmount = state.totalAmount - existingItem.price;\n            let updatedItems;\n            if (existingItem.amount === 1) {\n                updatedItems = items.filter(item => item.id !== action.payload.id);\n            } else {\n                const updatedItem = { ...existingItem, amount: existingItem.amount - 1 };\n                updatedItems = [...items];\n                updatedItems[existingCartItemIndex] = updatedItem;\n            }\n            state.totalAmount = updatedTotalAmount;\n            \n            state.items = updatedItems;\n        }\n    }\n});\n\nexport const {get,add, remove}  = cartSlice.actions;\nexport default cartSlice.reducer;"],"mappings":"2RAAA,OAASA,WAAT,KAA4B,kBAA5B,CAEA,GAAMC,UAAS,CAAGD,WAAW,CAAC,CAC1BE,IAAI,CAAE,MADoB,CAE1BC,YAAY,CAAE,CACVC,SAAS,CAAC,EADA,CAEVC,KAAK,CAAE,EAFG,CAGVC,WAAW,CAAE,CAHH,CAFY,CAO1BC,QAAQ,CAAE,CACNC,GADM,cACFC,KADE,CACIC,MADJ,CACW,CACbD,KAAK,CAACL,SAAN,CAAkBM,MAAM,CAACC,OAAzB,CACH,CAHK,CAINC,GAJM,cAIFH,KAJE,CAIKC,MAJL,CAIa,CACf,GAAMG,sBAAqB,CAAGJ,KAAK,CAACJ,KAAN,CAAYS,SAAZ,CAAsB,SAACC,IAAD,QAAUA,KAAI,CAACC,EAAL,GAAYN,MAAM,CAACC,OAAP,CAAeK,EAArC,EAAtB,CAA9B,CACA,GAAMC,iBAAgB,CAAGR,KAAK,CAACJ,KAAN,CAAYQ,qBAAZ,CAAzB,CACA,GAAIK,aAAJ,CACA,GAAID,gBAAJ,CAAsB,CAClB,GAAIE,YAAW,gCACRF,gBADQ,MACUG,MAAM,CAAEH,gBAAgB,CAACG,MAAjB,CAA0BV,MAAM,CAACC,OAAP,CAAeS,MAD3D,EAAf,CAGAF,YAAY,oBAAOT,KAAK,CAACJ,KAAb,CAAZ,CACAa,YAAY,CAACL,qBAAD,CAAZ,CAAsCM,WAAtC,CACH,CAND,IAMO,CACHD,YAAY,CAAGT,KAAK,CAACJ,KAAN,CAAYgB,MAAZ,CAAmBX,MAAM,CAACC,OAA1B,CAAf,CACH,CACD,GAAMW,mBAAkB,CAAGb,KAAK,CAACH,WAAN,CAAoBI,MAAM,CAACC,OAAP,CAAeY,KAAf,CAAuBb,MAAM,CAACC,OAAP,CAAeS,MAArF,CACAX,KAAK,CAACH,WAAN,CAAoBgB,kBAApB,CACAb,KAAK,CAACJ,KAAN,CAAca,YAAd,CACH,CApBK,CAqBNM,MArBM,iBAqBCf,KArBD,CAqBQC,MArBR,CAqBgB,CAClB,GAAML,MAAK,CAAGK,MAAM,CAACC,OAAP,CAAec,SAA7B,CAAsC;AACtC,GAAMZ,sBAAqB,CAAGR,KAAK,CAACS,SAAN,CAAgB,SAAAC,IAAI,QAAIA,KAAI,CAACC,EAAL,GAAYN,MAAM,CAACC,OAAP,CAAeK,EAA/B,EAApB,CAA9B,CACA,GAAMU,aAAY,CAAGrB,KAAK,CAACQ,qBAAD,CAA1B,CACA,GAAMS,mBAAkB,CAAGb,KAAK,CAACH,WAAN,CAAoBoB,YAAY,CAACH,KAA5D,CACA,GAAIL,aAAJ,CACA,GAAIQ,YAAY,CAACN,MAAb,GAAwB,CAA5B,CAA+B,CAC3BF,YAAY,CAAGb,KAAK,CAACsB,MAAN,CAAa,SAAAZ,IAAI,QAAIA,KAAI,CAACC,EAAL,GAAYN,MAAM,CAACC,OAAP,CAAeK,EAA/B,EAAjB,CAAf,CACH,CAFD,IAEO,CACH,GAAMG,YAAW,gCAAQO,YAAR,MAAsBN,MAAM,CAAEM,YAAY,CAACN,MAAb,CAAsB,CAApD,EAAjB,CACAF,YAAY,oBAAOb,KAAP,CAAZ,CACAa,YAAY,CAACL,qBAAD,CAAZ,CAAsCM,WAAtC,CACH,CACDV,KAAK,CAACH,WAAN,CAAoBgB,kBAApB,CAEAb,KAAK,CAACJ,KAAN,CAAca,YAAd,CACH,CArCK,CAPgB,CAAD,CAA7B,CAgDO,uBAA2BjB,SAAS,CAAC2B,OAArC,CAAOpB,GAAP,oBAAOA,GAAP,CAAWI,GAAX,oBAAWA,GAAX,CAAgBY,MAAhB,oBAAgBA,MAAhB,C,uBACP,cAAevB,UAAS,CAAC4B,OAAzB"},"metadata":{},"sourceType":"module"}