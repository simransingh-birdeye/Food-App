{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst cartSlice = createSlice({\n  name: 'Cart',\n  initialState: {\n    foodItems: [],\n    items: [],\n    totalAmount: 0\n  },\n  reducers: {\n    get(state, action) {\n      state.foodItems = action.payload;\n    },\n\n    add(state, action) {\n      const existingCartItemIndex = state.items.findIndex(item => item.id === action.payload.id);\n      const existingCartItem = state.items[existingCartItemIndex];\n      let updatedItems;\n\n      if (existingCartItem) {\n        let updatedItem = { ...existingCartItem,\n          amount: existingCartItem.amount + action.payload.amount\n        };\n        updatedItems = [...state.items];\n        updatedItems[existingCartItemIndex] = updatedItem;\n      } else {\n        updatedItems = state.items.concat(action.payload);\n      }\n\n      const updatedTotalAmount = state.totalAmount + action.payload.price * action.payload.amount;\n      state.totalAmount = updatedTotalAmount;\n      state.items = updatedItems;\n    },\n\n    remove(state, action) {\n      const items = action.payload.cartItems; //\n\n      const existingCartItemIndex = items.findIndex(item => item.id === action.payload.id);\n      const existingItem = items[existingCartItemIndex];\n      const updatedTotalAmount = state.totalAmount - existingItem.price;\n      let updatedItems;\n\n      if (existingItem.amount === 1) {\n        updatedItems = items.filter(item => item.id !== action.payload.id);\n      } else {\n        const updatedItem = { ...existingItem,\n          amount: existingItem.amount - 1\n        };\n        updatedItems = [...items];\n        updatedItems[existingCartItemIndex] = updatedItem;\n      }\n\n      state.totalAmount = updatedTotalAmount;\n      state.items = updatedItems;\n    }\n\n  }\n});\nexport const {\n  get,\n  add,\n  remove\n} = cartSlice.actions;\nexport default cartSlice.reducer;","map":{"version":3,"names":["createSlice","cartSlice","name","initialState","foodItems","items","totalAmount","reducers","get","state","action","payload","add","existingCartItemIndex","findIndex","item","id","existingCartItem","updatedItems","updatedItem","amount","concat","updatedTotalAmount","price","remove","cartItems","existingItem","filter","actions","reducer"],"sources":["/Users/simransingh/Downloads/React Practice/food app/src/store/Reducer.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\nconst cartSlice = createSlice({\n    name: 'Cart',\n    initialState :{\n        foodItems:[],\n        items: [],\n        totalAmount: 0\n    },\n    reducers: {\n        get(state,action){\n            state.foodItems = action.payload;\n        },\n        add(state, action) {\n            const existingCartItemIndex = state.items.findIndex((item) => item.id === action.payload.id);\n            const existingCartItem = state.items[existingCartItemIndex];\n            let updatedItems;\n            if (existingCartItem) {\n                let updatedItem = {\n                    ...existingCartItem, amount: existingCartItem.amount + action.payload.amount\n                }\n                updatedItems = [...state.items];\n                updatedItems[existingCartItemIndex] = updatedItem;\n            } else {\n                updatedItems = state.items.concat(action.payload);\n            }\n            const updatedTotalAmount = state.totalAmount + action.payload.price * action.payload.amount;\n            state.totalAmount = updatedTotalAmount;\n            state.items = updatedItems;\n        },\n        remove(state, action) {\n            const items = action.payload.cartItems//\n            const existingCartItemIndex = items.findIndex(item => item.id === action.payload.id)\n            const existingItem = items[existingCartItemIndex];\n            const updatedTotalAmount = state.totalAmount - existingItem.price;\n            let updatedItems;\n            if (existingItem.amount === 1) {\n                updatedItems = items.filter(item => item.id !== action.payload.id);\n            } else {\n                const updatedItem = { ...existingItem, amount: existingItem.amount - 1 };\n                updatedItems = [...items];\n                updatedItems[existingCartItemIndex] = updatedItem;\n            }\n            state.totalAmount = updatedTotalAmount;\n            \n            state.items = updatedItems;\n        }\n    }\n});\n\nexport const {get,add, remove}  = cartSlice.actions;\nexport default cartSlice.reducer;"],"mappings":"AAAA,SAASA,WAAT,QAA4B,kBAA5B;AAEA,MAAMC,SAAS,GAAGD,WAAW,CAAC;EAC1BE,IAAI,EAAE,MADoB;EAE1BC,YAAY,EAAE;IACVC,SAAS,EAAC,EADA;IAEVC,KAAK,EAAE,EAFG;IAGVC,WAAW,EAAE;EAHH,CAFY;EAO1BC,QAAQ,EAAE;IACNC,GAAG,CAACC,KAAD,EAAOC,MAAP,EAAc;MACbD,KAAK,CAACL,SAAN,GAAkBM,MAAM,CAACC,OAAzB;IACH,CAHK;;IAINC,GAAG,CAACH,KAAD,EAAQC,MAAR,EAAgB;MACf,MAAMG,qBAAqB,GAAGJ,KAAK,CAACJ,KAAN,CAAYS,SAAZ,CAAuBC,IAAD,IAAUA,IAAI,CAACC,EAAL,KAAYN,MAAM,CAACC,OAAP,CAAeK,EAA3D,CAA9B;MACA,MAAMC,gBAAgB,GAAGR,KAAK,CAACJ,KAAN,CAAYQ,qBAAZ,CAAzB;MACA,IAAIK,YAAJ;;MACA,IAAID,gBAAJ,EAAsB;QAClB,IAAIE,WAAW,GAAG,EACd,GAAGF,gBADW;UACOG,MAAM,EAAEH,gBAAgB,CAACG,MAAjB,GAA0BV,MAAM,CAACC,OAAP,CAAeS;QADxD,CAAlB;QAGAF,YAAY,GAAG,CAAC,GAAGT,KAAK,CAACJ,KAAV,CAAf;QACAa,YAAY,CAACL,qBAAD,CAAZ,GAAsCM,WAAtC;MACH,CAND,MAMO;QACHD,YAAY,GAAGT,KAAK,CAACJ,KAAN,CAAYgB,MAAZ,CAAmBX,MAAM,CAACC,OAA1B,CAAf;MACH;;MACD,MAAMW,kBAAkB,GAAGb,KAAK,CAACH,WAAN,GAAoBI,MAAM,CAACC,OAAP,CAAeY,KAAf,GAAuBb,MAAM,CAACC,OAAP,CAAeS,MAArF;MACAX,KAAK,CAACH,WAAN,GAAoBgB,kBAApB;MACAb,KAAK,CAACJ,KAAN,GAAca,YAAd;IACH,CApBK;;IAqBNM,MAAM,CAACf,KAAD,EAAQC,MAAR,EAAgB;MAClB,MAAML,KAAK,GAAGK,MAAM,CAACC,OAAP,CAAec,SAA7B,CADkB,CACoB;;MACtC,MAAMZ,qBAAqB,GAAGR,KAAK,CAACS,SAAN,CAAgBC,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYN,MAAM,CAACC,OAAP,CAAeK,EAAnD,CAA9B;MACA,MAAMU,YAAY,GAAGrB,KAAK,CAACQ,qBAAD,CAA1B;MACA,MAAMS,kBAAkB,GAAGb,KAAK,CAACH,WAAN,GAAoBoB,YAAY,CAACH,KAA5D;MACA,IAAIL,YAAJ;;MACA,IAAIQ,YAAY,CAACN,MAAb,KAAwB,CAA5B,EAA+B;QAC3BF,YAAY,GAAGb,KAAK,CAACsB,MAAN,CAAaZ,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYN,MAAM,CAACC,OAAP,CAAeK,EAAhD,CAAf;MACH,CAFD,MAEO;QACH,MAAMG,WAAW,GAAG,EAAE,GAAGO,YAAL;UAAmBN,MAAM,EAAEM,YAAY,CAACN,MAAb,GAAsB;QAAjD,CAApB;QACAF,YAAY,GAAG,CAAC,GAAGb,KAAJ,CAAf;QACAa,YAAY,CAACL,qBAAD,CAAZ,GAAsCM,WAAtC;MACH;;MACDV,KAAK,CAACH,WAAN,GAAoBgB,kBAApB;MAEAb,KAAK,CAACJ,KAAN,GAAca,YAAd;IACH;;EArCK;AAPgB,CAAD,CAA7B;AAgDA,OAAO,MAAM;EAACV,GAAD;EAAKI,GAAL;EAAUY;AAAV,IAAqBvB,SAAS,CAAC2B,OAArC;AACP,eAAe3B,SAAS,CAAC4B,OAAzB"},"metadata":{},"sourceType":"module"}